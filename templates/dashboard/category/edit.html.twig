{# templates/dashboard/category/edit.html.twig #}

{% extends 'dashboard/base.html.twig' %}
{% block title %}{% trans %}Modifier une catégorie{% endtrans %}{% endblock %}

{% block breadcrumb %}
    {{ parent() }} Modifier la catégorie > {{ category.label }}
{% endblock %}

{% block body %}
    <div class="category-edit-container row">
            {% include "dashboard/category/_new.html.twig" with {'action': 'Modifier'}%}
    </div>

    <script>

        // Set the default color of the category
        const colorSelect = document.getElementById('category_color');
        const selectedText = colorSelect.options[colorSelect.selectedIndex].text
        const [bgColor, textColor] = selectedText.split('_');
        previewCategoryContent.style.background = bgColor;
        previewCategoryContent.style.boxShadow = `2px 2px 5px #212529`;
        previewCategoryContent.style.color = textColor;

        colorSelect.style.background = bgColor;
        colorSelect.style.color = textColor;

        bgPicker.value = bgColor;
        textPicker.value = textColor;

        previewContainer.style.display = 'block'
        previewCategoryContent.innerHTML = labelCategoryInput.value

        document.getElementById('category_submitNewCategory').disabled = false;
    </script>
{% endblock %}
